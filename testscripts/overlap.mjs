#!/usr/bin/env zx
import "zx/globals";
import { $ } from "zx";

await $`vpype \
  rect --layer 1 2cm 1cm 1cm 1cm \
  rect --layer 1 2cm 2cm 1cm 1cm \
  rect --layer 1 2cm 3cm 1cm 1cm \
  rect --layer 1 1cm 2cm 1cm 1cm \
  rect --layer 1 2cm 2cm 1cm 1cm \
  rect --layer 1 3cm 2cm 1cm 1cm \
  text --layer 2 -p 2.5cm 2.5cm "ok" \
  filter --min-length 0.5mm \
  splitall --layer 1 \
  linemerge --layer 1 --tolerance 0.5mm \
  linesort --layer 1 \
  write --page-size 5cmx5cm overlaptest.svg`;

//75.5906,37.7953 75.5906,75.5906 113.3858,75.5906 75.5906,75.5906 75.5906,113.3858 113.3858,113.3858 75.5906,113.3858 75.5906,151.1811 113.3858,151.1811 113.3858,113.3858 151.1811,113.3858 151.1811,75.5906 113.3858,75.5906 113.3858,113.3858 113.3858,75.5906 75.5906,75.5906 75.5906,113.3858 75.5906,75.5906 37.7953,75.5906 37.7953,113.3858 113.3858,113.3858 113.3858,37.7953
//75.5906,37.7953 75.5906,75.5906 75.5906,75.5906 113.3858,75.5906 113.3858,75.5906 75.5906,75.5906 75.5906,75.5906 75.5906,113.3858 75.5906,113.3858 113.3858,113.3858 113.3858,113.3858 75.5906,113.3858 75.5906,113.3858 75.5906,151.1811 75.5906,151.1811 113.3858,151.1811 113.3858,151.1811 113.3858,113.3858 113.3858,113.3858 151.1811,113.3858 151.1811,113.3858 151.1811,75.5906 151.1811,75.5906 113.3858,75.5906 113.3858,75.5906 113.3858,113.3858 113.3858,113.3858 113.3858,75.5906 113.3858,75.5906 75.5906,75.5906 75.5906,75.5906 75.5906,113.3858 75.5906,113.3858 75.5906,75.5906 75.5906,75.5906 37.7953,75.5906 37.7953,75.5906 37.7953,113.3858 37.7953,113.3858 75.5906,113.3858 75.5906,113.3858 113.3858,113.3858 113.3858,113.3858 113.3858,75.5906 113.3858,75.5906 113.3858,37.7953 113.3858,37.7953
